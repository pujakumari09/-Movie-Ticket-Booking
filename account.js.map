{"version":3,"sources":["app/account/account.js"],"names":["angular","module","config","$routeProvider","when","templateUrl","controller","controllerAs","name","referrer","template","$location","$route","Auth","current","params","logout","path","authenticate","run","$rootScope","$on","event","next","originalPath"],"mappings":"AAAA;;AAEAA,QAAQC,MAAR,CAAe,8BAAf,EACGC,MADH,CACU,UAASC,cAAT,EAAyB;AAC/BA,iBAAeC,IAAf,CAAoB,QAApB,EAA8B;AAC1BC,iBAAa,8BADa;AAE1BC,gBAAY,iBAFc;AAG1BC,kBAAc;AAHY,GAA9B,EAKGH,IALH,CAKQ,SALR,EAKmB;AACfI,UAAM,QADS;AAEfC,cAAU,GAFK;AAGfC,cAAU,EAHK;AAIfJ,gBAAY,oBAASK,SAAT,EAAoBC,MAApB,EAA4BC,IAA5B,EAAkC;AAC5C,UAAIJ,WAAWG,OAAOE,OAAP,CAAeC,MAAf,CAAsBN,QAAtB,IAAkCG,OAAOE,OAAP,CAAeL,QAAjD,IAA6D,GAA5E;AACAI,WAAKG,MAAL;AACAL,gBAAUM,IAAV,CAAeR,QAAf;AACD;AARc,GALnB,EAeGL,IAfH,CAeQ,SAfR,EAemB;AACfC,iBAAa,gCADE;AAEfC,gBAAY,kBAFG;AAGfC,kBAAc;AAHC,GAfnB,EAoBGH,IApBH,CAoBQ,WApBR,EAoBqB;AACjBC,iBAAa,oCADI;AAEjBC,gBAAY,oBAFK;AAGjBC,kBAAc,IAHG;AAIjBW,kBAAc;AAJG,GApBrB;AA0BD,CA5BH,EA6BGC,GA7BH,CA6BO,UAASC,UAAT,EAAqB;AACxBA,aAAWC,GAAX,CAAe,mBAAf,EAAoC,UAASC,KAAT,EAAgBC,IAAhB,EAAsBT,OAAtB,EAA+B;AACjE,QAAIS,KAAKf,IAAL,KAAc,QAAd,IAA0BM,OAA1B,IAAqCA,QAAQU,YAA7C,IAA6D,CAACV,QAAQI,YAA1E,EAAwF;AACtFK,WAAKd,QAAL,GAAgBK,QAAQU,YAAxB;AACD;AACF,GAJD;AAKD,CAnCH","file":"account.js","sourcesContent":["'use strict';\n\nangular.module('yeomanOnlineTicketBookingApp')\n  .config(function($routeProvider) {\n    $routeProvider.when('/login', {\n        templateUrl: 'app/account/login/login.html',\n        controller: 'LoginController',\n        controllerAs: 'vm'\n      })\n      .when('/logout', {\n        name: 'logout',\n        referrer: '/',\n        template: '',\n        controller: function($location, $route, Auth) {\n          var referrer = $route.current.params.referrer || $route.current.referrer || '/';\n          Auth.logout();\n          $location.path(referrer);\n        }\n      })\n      .when('/signup', {\n        templateUrl: 'app/account/signup/signup.html',\n        controller: 'SignupController',\n        controllerAs: 'vm'\n      })\n      .when('/settings', {\n        templateUrl: 'app/account/settings/settings.html',\n        controller: 'SettingsController',\n        controllerAs: 'vm',\n        authenticate: true\n      });\n  })\n  .run(function($rootScope) {\n    $rootScope.$on('$routeChangeStart', function(event, next, current) {\n      if (next.name === 'logout' && current && current.originalPath && !current.authenticate) {\n        next.referrer = current.originalPath;\n      }\n    });\n  });\n"]}